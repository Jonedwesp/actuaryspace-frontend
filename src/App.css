/* src/App.css */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap");

/* Base */
*,
*::before,
*::after { box-sizing: border-box; }

html, body {
  margin: 0;
  height: 100%;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #fff;
  color: #111;
}

/* Layout */
.app {
  display: grid;
  grid-template-columns: 20% 60% 20%;
  height: 100vh;
  overflow: hidden;
}

.left-panel, .middle-panel, .right-panel {
  padding: 1rem;
  min-height: 0;
}

/* LEFT */
.left-panel { display: flex; flex-direction: column; }
.notifications {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  margin-top: 0.5rem;
  padding: 0;
  scrollbar-width: thin;
  scrollbar-color: #ccc transparent;
  border-right: 1px solid #dadce0; /* Thin grey line */
}

.notification {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.6rem 0.5rem;
  margin: 4px 0;
  font-size: 0.8rem;
  border: none;
  border-radius: 8px;
  background: #fff;
  transition: background-color .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.notification:hover {
  background-color: #f9f9f9;
  border: 1px solid #888;
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
  cursor: pointer;
}
.notification img.icon { width: 20px; height: 20px; border-radius: 4px; }

/* Dismiss button (X) */
.notif-close {
  margin-left: auto;
  border: 0;
  background: transparent;
  color: #9aa0a6;
  font-weight: 700;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
  padding: 0 4px;
}
.notif-close:hover { color: #6b7280; }

/* Scrollbar styling (left list) */
.notifications::-webkit-scrollbar { width: 6px; }
.notifications::-webkit-scrollbar-track { background: transparent; }
.notifications::-webkit-scrollbar-thumb { background-color: #ccc; border-radius: 10px; }

/* MIDDLE */
.middle-panel {
  display: grid;
  grid-template-rows: auto 1fr auto;  /* title | content | bar */
  overflow: hidden;                   /* panel itself wonâ€™t scroll */
}
.middle-content {
  min-height: 0;                      /* allow content to shrink */
  overflow: hidden;                   /* child sections manage their own scroll */
  border-right: 1px solid #dadce0; /* Thin grey line */
}
.chat-output { flex: 1; overflow-y: auto; padding-bottom: 1rem; }

/* 1. Fix Chat Bar Centering (Definitive) */
.chat-bar {
  /* Reset width hacks */
  width: auto !important; 
  
  /* Push away from edges equally (Top, Right, Bottom, Left) */
  margin: 0 24px 24px 24px !important; 
  
  /* Ensure it sits nicely above the bottom edge */
  bottom: 0 !important;
  
  /* Reset border radius for a cleaner look if it was squashed */
  box-sizing: border-box;
}

/* 2. Nudge the "Connect" button away from the right edge */
.middle-panel .panel-title {
  /* Add padding to the container itself to pull everything in */
  padding-right: 24px !important; 
  padding-left: 12px !important; 
}

/* Chat bar */
.chat-bar {
  position: relative;
  display: flex;
  align-items: flex-end;
  gap: 0.5rem;
  border: 1px solid #ccc;
  border-radius: 999px;
  padding: 0.5rem 0.5rem 0.5rem 0.75rem;
  margin: 0.5rem;
  transition: border-radius .15s ease;
}
.chat-bar.expanded { border-radius: 18px; }

/* Textarea */
.chat-textarea {
  flex: 1;
  border: none;
  outline: none;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-size: 0.9rem;
  line-height: 1.5;
  resize: none;
  background: transparent;
  padding: 0.4rem 0.5rem;
  overflow-y: hidden;
  border-radius: 999px;
  transition: border-radius .15s ease;
  text-align: left;
}

.chat-bar.expanded .chat-textarea { border-radius: 14px; }
.chat-textarea:focus { outline: none; box-shadow: none; }
.chat-textarea::-webkit-scrollbar { width: 6px; }
.chat-textarea::-webkit-scrollbar-track { background: transparent; }
.chat-textarea::-webkit-scrollbar-thumb { background-color: #ccc; border-radius: 10px; }

/* Send button */
.send-btn {
  align-self: flex-end;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: bold;
  border: none;
  border-radius: 50%;
  background: #000;
  color: #fff;
  cursor: pointer;
  transition: background-color 0.2s ease, transform 0.15s ease;
  margin-bottom: 3px;
}
.send-btn:hover {
  background: #222;
  transform: scale(1.08);
}

/* --- Right Panel Container --- */
.right-panel {
  display: flex;
  flex-direction: column;
  overflow-y: auto; /* CHANGED: Allow panel itself to scroll vertically */
  overflow-x: hidden;
  background-color: #ffffff; /* CHANGED: Pure White Background */
  padding: 12px;
  height: 100%;
  border-left: 1px solid #e6e6e6; /* Optional: Match other panels */
}

.panel-title {
  text-align: center;
  font-size: 16px;
  font-weight: 700;
  color: #172b4d;
  margin-bottom: 16px;
}

/* --- Trello List Wrapper --- */
.trello-col-wrap {
  display: flex;
  flex-direction: column; /* CHANGED: Vertical stacking (Top to Bottom) */
  gap: 24px; /* Space between the two lists */
  width: 100%;
  height: auto;
}

/* --- Trello List (The Grey Box) --- */
.tl-col {
  width: 100%; /* CHANGED: Full width of the sidebar */
  min-width: 0;
  background-color: #f1f2f4; /* Keep lists grey so they look like Trello */
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  height: auto; /* Let list grow with content */
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  padding: 8px;
  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31);
}

/* List Header */
.tl-head {
  padding: 8px 8px 8px 12px;
  font-size: 14px;
  font-weight: 600;
  color: #172b4d;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
}

.tl-actions {
  color: #6b778c;
  padding: 6px;
  border-radius: 8px;
}
.tl-actions:hover {
  background-color: #091E4224;
  color: #172b4d;
}

/* Cards Container inside the list */
.tl-cards {
  overflow: visible; /* Let cards expand the list height */
  flex: 0 0 auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 0 4px 8px 4px;
}

/* --- Trello Card (Pixel-Perfect) --- */
.tl-card {
  background-color: #ffffff;
  border-radius: 8px;
  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31);
  cursor: pointer;
  position: relative;
  text-decoration: none;
  z-index: 0;
  padding: 8px 12px;
  min-height: 32px;
  display: block; 
  overflow: hidden; /* <--- CRITICAL: Clips the square cover to the rounded card */
}

.tl-card-cover {
  height: 32px; /* Standard Trello "Color Strip" height */
  /* Use negative margins to pull it to the edges, negating the .tl-card padding */
  margin: -8px -12px 8px -12px; 
  background-color: #ebecf0; /* Default fallback */
}

.tl-card:hover {
  border: 1px solid #388BFF;
  padding: 7px 11px; /* Compensate for border width */
}

/* 1. Labels Row (Top) */
.tl-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-bottom: 4px;
  width: 100%;
}

/* The Label/Badge Pill (With Text) */
.tl-badge {
  display: inline-flex;
  align-items: center;
  height: auto;
  width: auto;
  min-width: unset; /* Remove fixed width */
  padding: 2px 8px; /* Trello label padding */
  border-radius: 4px;
  font-size: 11px;  /* Readable text */
  font-weight: 700;
  line-height: 16px;
  color: #172b4d; /* Default text color */
  margin: 0; /* Gap handled by parent flex */
}

/* Fix text color for darker backgrounds */
.tl-badge.priority-green,
.tl-badge.priority-red,
.tl-badge.priority-purple,
.tl-badge.active-green,
.tl-badge.active-orange,
.tl-badge.status-blue,
.tl-badge.status-red,
.tl-badge.status-purple,
.tl-badge.status-green {
    color: #ffffff;
}

/* Label Colors */
/* --- Priority & Active Badge Colors --- */

/* 1. PRIORITY (Top Row) */
.tl-badge.priority-green { 
  background-color: #BAF3DB; /* Light Green */
  color: #164B35; 
}
.tl-badge.priority-red { 
  background-color: #FFD2CC; /* Light Red */
  color: #5D1F1A; 
}
.tl-badge.priority-pink { 
  background-color: #FDD0EC; /* Light Pink */
  color: #50253F; 
}
.tl-badge.priority-default { 
  background-color: #DFE1E6; /* Grey */
  color: #172B4D; 
}

/* 2. ACTIVE (Bottom Row) */
.tl-badge.active-green { 
  background-color: #BAF3DB; /* Light Green */
  color: #164B35; 
}
.tl-badge.active-orange { 
  background-color: #FFE2BD; /* Light Orange */
  color: #5F3811; 
}
.tl-badge.active-red { 
  background-color: #FFD2CC; /* Light Red */
  color: #5D1F1A; 
}
.tl-badge.active-default { 
  background-color: #DFE1E6; /* Grey */
  color: #172B4D; 
}

.tl-badge.status-yellow     { background-color: #e2b203; }
.tl-badge.status-blue       { background-color: #579dff; }
.tl-badge.status-green      { background-color: #4bce97; }
.tl-badge.status-purple     { background-color: #9f8fef; }
.tl-badge.status-red        { background-color: #f87168; }

.tl-badge.active-green  { background-color: #4bce97; } 
.tl-badge.active-orange { background-color: #faa53d; }

/* 2. Card Title */
.tl-card-title {
  display: block;
  color: #172b4d;
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
  word-wrap: break-word;
  margin-bottom: 0;
}

/* 3. Bottom Row (Badges + Members) */
.tl-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 4px;
  min-height: 0px;
}

/* Icons Row */
.tl-icons {
  display: flex;
  gap: 8px;
  color: #626f86;
  font-size: 12px;
  align-items: center;
}

/* Member Avatars */
.tl-people {
  display: flex;
  justify-content: flex-end;
}

.av-img, .av {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  object-fit: cover;
  border: 0;
  margin-left: -4px;
  z-index: 1;
}

.av {
  background: #dfe1e6;
  color: #172b4d;
  font-size: 10px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* "Add a card" Button */
.tl-add {
  color: #44546f;
  border-radius: 8px;
  padding: 8px 12px;
  margin: 2px 0 0 0;
  cursor: pointer;
  background: transparent;
  border: none;
  text-align: left;
  font-size: 14px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 8px;
}

.tl-add:hover {
  background-color: #091E4214;
  color: #172b4d;
}

/* Cleanup old classes */
.tl-card-topbar, .pill, .tl-meta, .tl-eta {
  display: none;
}

/* ---- File thumbnail cards ---- */
.doc-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: .6rem;
  margin-top: .25rem;
}

.doc-card {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
  border: 1px solid #e6e6e6;
  border-radius: 12px;
  background: #fff;
  cursor: pointer;
  overflow: hidden;
  text-align: left;
  box-shadow: 0 1px 3px rgba(0,0,0,.04);
  transition: box-shadow .15s ease, transform .15s ease, background-color .15s ease, border-color .15s ease;
}
.doc-card:hover {
  background-color: #fafafa;
  border: 1px solid #bbb;
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
  transform: translateY(-1px);
}

.doc-preview {
  height: 110px;
  background: #fafafa;
  display: grid;
  place-items: center;
  overflow: hidden;
}
.doc-preview img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.doc-icon {
  font-weight: 800;
  letter-spacing: .5px;
  color: #444;
  opacity: .9;
}

/* filename strip */
.doc-info {
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: .5rem .6rem;
}
.doc-name {
  font-size: .85rem;
  color: #111;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 1;
}

/* type badge */
.doc-badge {
  font-size: .70rem;
  font-weight: 700;
  color: #fff;
  padding: .18rem .38rem;
  border-radius: 6px;
}
.doc-badge.pdf { background: #e02424; }
.doc-badge.xls { background: #1e7a3b; }
.doc-badge.img { background: #555; }

/* folded corner */
.doc-corner {
  position: absolute;
  right: 0; bottom: 0;
  width: 0; height: 0;
  border-left: 18px solid transparent;
  border-top: 18px solid transparent;
  border-right: 18px solid #f04d3f;
  border-bottom: 18px solid #f04d3f;
  transform: translate(8px, 8px) rotate(45deg);
  opacity: .9;
  pointer-events: none;
}
.doc-card.xls .doc-corner { border-right-color:#29a35a; border-bottom-color:#29a35a; }
.doc-card.img .doc-corner { border-right-color:#666; border-bottom-color:#666; }

/* ---- WhatsApp-like middle view ---- */
.wa-chat { display:flex; flex-direction:column; height:100%; }

.wa-header { display:flex; align-items:center; gap:.6rem; padding:.25rem 0 .5rem; border-bottom:1px solid #eee; }
.wa-avatar { width:28px; height:28px; border-radius:50%; background:#d1f1d6; display:grid; place-items:center; font-weight:700; font-size:.8rem; color:#256c2f; }
.wa-meta { line-height:1.1; }
.wa-name { font-weight:600; font-size:.95rem; }
.wa-status { font-size:.75rem; color:#4caf50; }

/* Beige background like WhatsApp Web */
.wa-body {
  flex: 1;
  padding: 1rem;
  overflow-y: auto;
  background-color: #efeae2;
  background-repeat: repeat;
  background-size: contain;
}

/* Message row + alignment */
.wa-msg { display:flex; margin: 4px 0; }
.wa-msg.them { justify-content:flex-start; }
.wa-msg.me { justify-content:flex-end; }

/* Bubble look */
.wa-bubble {
  max-width:70%;
  padding:.45rem .55rem .3rem;
  border-radius:10px;
  position:relative;
  background:#e6ffda;         /* me = green */
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
}
.wa-msg.them .wa-bubble {
  background:#fff;            /* them = white */
  border:1px solid #eee;
}
.wa-text { font-size:.9rem; }
.wa-time { font-size:.7rem; color:#777; text-align:right; margin-top:.15rem; }

.wa-time {
  font-size: .7rem;
  color: #777;
  text-align: right;
  margin-top: .15rem;
  display: flex;
  align-items: center;
  gap: 4px;
  justify-content: flex-end;
}

.wa-ticks {
  font-size: 0.75rem;
  color: #34b7f1;   /* WhatsApp blue for ticks */
}

/* ---- Slack chat view ---- */
.slack-chat { display:flex; flex-direction:column; height:100%; background:#fff; }
.slack-header { padding:.25rem 0 .5rem; border-bottom:1px solid #eee; }
.slack-title { font-weight:600; font-size:.95rem; }

.slack-body { flex:1; overflow-y:auto; padding:1rem 0; }
.slack-day {
  margin: 0.5rem auto 0.75rem;
  padding: .25rem .6rem;
  border: 1px solid #ddd;
  border-radius: 12px;
  font-size: .78rem;
  color: #555;
  background: #fff;
  width: max-content;
}

.slack-msg { display:flex; align-items:flex-start; gap:.6rem; padding: .25rem 0; margin: 0 .25rem; }
.slack-avatar {
  width:32px; height:32px; border-radius:4px;
  background:#eee; display:grid; place-items:center; font-weight:700; color:#333;
}
.slack-bubble { flex:1; }
.slack-meta { display:flex; align-items:baseline; gap:.5rem; }
.slack-name { font-weight:700; font-size:.9rem; }
.slack-time { font-size:.76rem; color:#6b7280; }
.slack-text { font-size:.92rem; line-height:1.4; white-space:pre-wrap; }

/* Avatar images */
.wa-avatar, .slack-avatar { display:grid; place-items:center; overflow:hidden; }
.wa-avatar { width:28px; height:28px; border-radius:50%; background:#d1f1d6; }
.slack-avatar { width:32px; height:32px; border-radius:4px; background:#eee; }
.wa-avatar img, .slack-avatar img { width:100%; height:100%; object-fit:cover; border-radius:inherit; }
.wa-avatar span, .slack-avatar span { font-weight:700; color:#256c2f; }

/* Trello person chips (for later when names used) */
.av-img { width:24px; height:24px; border-radius:50%; object-fit:cover; box-shadow:0 0 0 1px #fff; }

/* Slack action buttons (PDF-style blue) */
.slack-actions {
  display: flex;
  gap: .4rem;
  justify-content: flex-end;   /* right side of the bubble */
  margin-top: .45rem;
}
.slack-action-btn {
  border: 0;
  border-radius: 8px;
  padding: .35rem .6rem;
  font-size: .78rem;
  font-weight: 700;
  background: #1677ff;          /* blue */
  color: #fff;
  cursor: pointer;
  box-shadow: 0 1px 2px rgba(0,0,0,.12);
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, opacity .12s ease;
}
.slack-action-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 3px 8px rgba(0,0,0,.18);
  background: #1469e0;
}
.slack-action-btn:active {
  transform: translateY(0);
  box-shadow: 0 1px 2px rgba(0,0,0,.12);
  opacity: .95;
}

/* Gmail notification chip (subtle) */
.notification.gmail { position: relative; }
.notification.gmail .notif-chip {
  margin-left: auto;
  background: #1677ff;
  color: #fff;
  font-size: .65rem;
  font-weight: 700;
  padding: .12rem .4rem;
  border-radius: 999px;
}

/* ---------- Email view ---------- */
.email-full,
.email-split {
  height: 100%;
}

.email-pane {
  background:#fff;
  border:1px solid #e6e6e6;
  border-radius:12px;
  padding: .9rem .9rem .8rem;
  box-shadow: 0 1px 3px rgba(0,0,0,.04);
}

/* Full-width email (no preview open) â€” the pane itself scrolls */
.email-full .email-pane {
  height: 100%;
  overflow-y: auto;
}

/* Pixel-perfect Gmail Action Bar */
.gmail-action-bar {
  display: flex;
  align-items: center;
  gap: 20px;
  padding: 8px 16px;
  border-bottom: 1px solid #f1f3f4;
  color: #5f6368;
}

.gmail-action-icon {
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  transition: background 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.gmail-action-icon:hover {
  background: rgba(60, 64, 67, 0.08);
  color: #202124;
}

/* Bottom Response Buttons */
.gmail-footer-actions {
  display: flex;
  gap: 8px;
  padding: 16px 0;
  border-top: 1px solid #f1f3f4;
  margin-top: 20px;
}

.gmail-btn-outline {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 24px;
  border: 1px solid #dadce0;
  border-radius: 999px;
  background: white;
  color: #3c4043;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s;
}

.gmail-btn-outline:hover {
  background: #f8f9fa;
  border-color: #d2d4d7;
}

.email-head {
  display:flex; justify-content:space-between; align-items:flex-start;
  padding-bottom:.6rem; margin-bottom:.6rem;
  padding-top: 12px;
}
.email-from { display:flex; flex-direction:column; gap:.2rem; }
.email-from-name { font-weight:700; font-size:.95rem; }
.email-from-email { color:#666; font-size:.85rem; }
.email-meta { text-align:right; }
.email-subject { font-weight:700; font-size:.95rem; }
.email-time { color:#666; font-size:.82rem; margin-top:.15rem; }

/* Gmail Body Container */
.email-body { 
  font-size: 14px; 
  line-height: 1.6; 
  color: #202124; 
  padding: 0; /* Managed by parent spacing now */
}


/* Email content text wrapper */
.email-body-text {
  font-family: 'Roboto', 'Google Sans', Arial, sans-serif;
  font-size: 14px;
  color: #202124;
  word-break: break-word;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

/* Paragraph wrapper to manage consistent vertical gaps */
.gmail-paragraph-wrapper div {
  margin-bottom: 14px;
  min-height: 1em;
}

/* Container for forwarded segments with standard Gmail indentation */
.gmail-forward-wrap {
  position: relative;
  margin-top: 24px;
  border-left: 1px solid #dadce0;
  padding-left: 16px;
}

/* Blue border specifically for reply quotes */
.gmail-reply-quote {
  border-left: 2px solid #72a8ff;
  padding-left: 16px;
  color: #505050;
  margin-top: 16px;
  margin-bottom: 16px;
}

/* Remove extra margin from the very last paragraph in a block */
.gmail-paragraph-wrapper div:last-child,
.gmail-reply-quote div:last-child {
  margin-bottom: 0;
}

/* Container for forwarded segments to handle nesting */
.gmail-forward-wrap {
  position: relative;
  margin-top: 24px;
}

/* The "---------- Forwarded message ---------" text */
.gmail-thread-header {
  margin-bottom: 12px;
  color: #5f6368;
  font-size: 13px;
  font-weight: 400;
}

/* The body content of the forwarded message */
.gmail-thread-body {
  color: #202124;
  font-size: 14px;
  line-height: 1.6;
}

/* Initial text before any forwards */
.gmail-initial-text {
  margin-bottom: 24px;
  display: block;
}

.gmail-thread-separator {
  border: none;
  border-top: 1px solid #dadce0;
  margin: 16px 0;
}

/* Metadata in the thread header */
.gmail-thread-meta {
  margin-bottom: 16px;
  line-height: 1.6;
}

.gmail-thread-meta b {
  font-weight: 600;
}
/* Signature Styling */
.gmail-signature {
  margin-top: 24px;
  color: #70757a;
  border-top: 1px solid #f1f3f4;
  padding-top: 12px;
  font-size: 13px;
}

.email-note {
  margin-top: 0.75rem;
  font-size: 12px;
  color: #666;
}

.email-actions {
  display:flex; gap:.45rem; justify-content:flex-end; margin-top:.7rem;
}
.email-action-btn {
  border:0; border-radius:8px; padding:.38rem .65rem;
  font-size:.78rem; font-weight:700; background:#1677ff; color:#fff;
  cursor:pointer; box-shadow:0 1px 2px rgba(0,0,0,.12);
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, opacity .12s ease;
}
.email-action-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 3px 8px rgba(0,0,0,.18);
  background:#1469e0;
}
.email-action-btn:active { transform: translateY(0); box-shadow: 0 1px 2px rgba(0,0,0,.12); opacity:.95; }

.email-attach-title { margin-top:.8rem; font-weight:700; font-size:.9rem; }
.email-attach-grid {
  margin-top:.4rem;
  display:grid; grid-template-columns: 1fr 1fr; gap:.5rem;
}
.email-attach {
  display:flex; align-items:center; gap:.5rem;
  border:1px solid #e6e6e6; border-radius:10px; background:#fafafa;
  padding:.5rem .6rem; cursor:pointer;
  transition: background-color .12s ease, border-color .12s ease, transform .12s ease;
}
.email-attach:hover { background:#fff; border-color:#bbb; transform: translateY(-1px); }
.email-attach-icon {
  width:30px; height:30px; border-radius:6px; display:grid; place-items:center;
  font-weight:800; background:#e02424; color:#fff; font-size:.7rem;
}
.email-attach-name { font-size:.85rem; color:#111; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* Split view for email + PDF preview (single definition to avoid conflicts) */
.email-split {
  display: grid;
  grid-template-columns: 1.1fr 0.9fr;   /* left email, right preview */
  gap: 12px;
}

/* Left side (email) scrolls independently */
.email-split .email-pane {
  min-height: 0;
  overflow-y: auto;
}

/* Right side (PDF preview) fills and the frame scrolls internally */
.email-preview {
  background:#fff; border:1px solid #e6e6e6; border-radius:12px; overflow:hidden;
  display:flex; flex-direction:column;
  min-height: 0;
}
.email-preview-bar {
  display:flex; align-items:center; justify-content:space-between;
  padding:.55rem .75rem; border-bottom:1px solid #eee; background:#f8fafc;
}
.email-preview-name { font-weight:700; font-size:.9rem; }
.email-preview-close {
  border:0; background:#111; color:#fff; border-radius:999px; padding:.25rem .6rem;
  font-size:.78rem; cursor:pointer;
}
.email-preview-frame { flex:1; border:0; width:100%; }

/* ===== Trello middle popup (Rebuilt for Real App Look) ===== */

.trello-modal {
  background: #ffffff;
  border-radius: 12px;
  width: 94%; 
  max-width: 900px;
  margin: 24px auto; /* Clean margins */
  
  /* ðŸ‘‡ FIX: Height adjusts to content (auto), but stops before hitting the chat bar (max-height) */
  height: auto;
  max-height: calc(100% - 80px); 
  
  display: flex;
  flex-direction: column;
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Noto Sans", "Ubuntu", "Droid Sans", "Helvetica Neue", sans-serif;
  color: #172b4d;
  border: 1px solid #8993a4;
  box-shadow: 0 8px 16px -4px rgba(9,30,66,0.25), 0 0 0 1px rgba(9,30,66,0.08);
}

/* Header Area */
.trello-modal-topbar {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 20px 24px 8px; /* Increased padding */
  background: #ffffff; /* Match body white */
  flex: 0 0 auto;
}

.trello-header-main {
  display: flex;
  gap: 16px;
  width: 100%;
}

.trello-icon-header {
  margin-top: 4px;
  color: #172b4d;
  font-size: 24px; /* Slightly larger icon */
}

.trello-title-input {
  background: transparent;
  border: 2px solid transparent;
  border-radius: 3px;
  font-size: 20px;
  font-weight: 600;
  line-height: 24px;
  padding: 4px 8px;
  margin: -4px -8px;
  width: 100%;
  color: #172b4d;
}
.trello-title-input:focus {
  background: #fff;
  border-color: #0079bf;
  outline: none;
}

.trello-list-subtitle {
  font-size: 14px;
  color: #5e6c84;
  margin-top: 4px;
  margin-left: 2px;
}
.trello-list-subtitle a {
  text-decoration: underline;
  cursor: pointer;
  color: #5e6c84;
}

/* Close Button */
.trello-close {
  color: #42526e;
  background: transparent;
  border: none;
  font-size: 20px;
  cursor: pointer;
  padding: 8px;
  line-height: 1;
  margin-top: -4px;
  margin-right: -8px;
}
.trello-close:hover {
  color: #172b4d;
  background-color: rgba(9,30,66,.08);
  border-radius: 50%;
}

/* Modal Body - Scrollable Area */
.trello-modal-body {
  flex: 1;
  overflow-y: auto;
  display: flex;
  /* ðŸ‘‡ FIX: 80px padding ensures space below "Start Timer" even when zoomed/scrolling */
  padding: 0 24px 80px 24px; 
  gap: 32px;
  min-height: 0; /* Critical for nested flex scrolling */
}
/* Left Main Column */
.trello-main-col {
  flex: 2.8;
  min-width: 0;
}

/* Right Sidebar Column */
.trello-sidebar-col {
  flex: 1.2;
  display: flex;
  flex-direction: column;
  gap: 16px;
  min-width: 180px;
  padding-top: 8px;
}

/* --- Sections --- */
.trello-section {
  margin-bottom: 24px;
  position: relative;
  padding-left: 40px; /* Space for icon */
}

.trello-section-icon {
  position: absolute;
  left: 0;
  top: 0;
  color: #42526e;
  font-size: 20px;
  width: 32px;
  text-align: center;
}

.trello-section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}

.trello-h3 {
  font-size: 16px;
  font-weight: 600;
  margin: 0;
  line-height: 20px;
}

/* --- Action Buttons (Sidebar Style moved to top/inline) --- */
.trello-action-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
  padding-left: 40px; /* Match section alignment */
}

.t-btn-gray {
  background-color: rgba(9, 30, 66, 0.04);
  color: #172b4d;
  border: none;
  box-shadow: none;
  font-weight: 600;
  border-radius: 3px;
  padding: 6px 12px;
  font-size: 14px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  transition: background-color 85ms ease;
}
.t-btn-gray:hover {
  background-color: rgba(9, 30, 66, 0.08);
}

/* --- Custom Fields Grid --- */
.cf-grid {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.cf-item {
  flex: 1;
  min-width: 120px;
}

.cf-label {
  font-size: 12px;
  font-weight: 600;
  color: #5e6c84;
  margin-bottom: 4px;
  display: block;
}

/* The colored select box */
.cf-select-box {
  width: 100%;
  border: none;
  border-radius: 3px;
  padding: 8px 12px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;
  background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20width%3D%2210%22%20height%3D%226%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M1%201l4%204%204-4%22%20stroke%3D%22%2342526E%22%20stroke-width%3D%221.5%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E");
  background-repeat: no-repeat;
  background-position: right 8px center;
  /* Colors defined below */
}

/* --- Description Box --- */
.desc-box-fake {
  min-height: 60px;
  background-color: rgba(9, 30, 66, 0.04);
  border-radius: 3px;
  padding: 8px 12px;
  font-size: 14px;
  color: #172b4d;
  cursor: pointer;
  transition: background 0.1s;
}
.desc-box-fake:hover {
  background-color: rgba(9, 30, 66, 0.08);
}

/* --- Activity Timer Section --- */
.timer-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

.btn-blue {
  background-color: #0079bf;
  color: #fff;
  border: none;
  border-radius: 3px;
  padding: 6px 12px; /* Standard Trello size */
  font-weight: 600;
  cursor: pointer;
}
.btn-blue:hover { background-color: #026aa7; }

.timer-display {
  background: rgba(9,30,66,0.04);
  padding: 6px 10px;
  border-radius: 3px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
}

.maintenance-banner {
  background-color: #6e5dc6; /* Purple */
  color: white;
  padding: 8px 12px;
  border-radius: 3px;
  font-size: 14px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.new-pill {
  background: rgba(255,255,255,0.2);
  border-radius: 2px;
  padding: 1px 4px;
  font-size: 11px;
  font-weight: 700;
  margin-right: 8px;
}

/* --- Colors for Custom Fields (Select Boxes) --- */
.cf-green-light  { background-color: #dcfce7; color: #164b35; }
.cf-red-light    { background-color: #ffe2bd; color: #5d1f1a; } /* Using soft red/orange tone for red text readability */
.cf-pink-light   { background-color: #fdd0ec; color: #50253f; }
.cf-orange-light { background-color: #ffe2bd; color: #5f3811; }
.cf-blue-light   { background-color: #dbeafe; color: #1e3a8a; }
.cf-purple-light { background-color: #ede9fe; color: #4c1d95; }
.cf-yellow-light { background-color: #fef9c3; color: #713f12; }
.cf-grey-light   { background-color: #f4f5f7; color: #172b4d; }

/* Email body â€“ plain text (eml) */
.email-body-pre {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;
  font-size: 14px;
  line-height: 1.45;
  white-space: pre-wrap;      /* keep line breaks but wrap long lines */
  margin: 0;
  padding: 0.5rem 0;
}

/* Email body â€“ HTML version */
.email-body-html {
  font-size: 14px;
  line-height: 1.45;
}

/* Small note under the email body */
.email-note {
  margin-top: 0.75rem;
  font-size: 12px;
  color: #666;
}

/* Email attachment grid â€“ Gmail-style tiles */
.email-attach-title {
  margin-top: 1.25rem;
  margin-bottom: 0.5rem;
  font-weight: 600;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  color: #555;
}

.email-attach-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.email-attach {
  width: 220px;            /* more square */
  height: 120px;
  border-radius: 10px;
  border: 1px solid #e1e4ea;
  background: #fafbff;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: space-between;
  padding: 10px 12px;
  cursor: pointer;
  transition: box-shadow 0.15s ease, transform 0.15s ease;
}

.email-attach:hover {
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.07);
  transform: translateY(-1px);
}

.email-attach-icon {
  align-self: flex-start;
  font-size: 11px;
  font-weight: 700;
  padding: 4px 8px;
  border-radius: 4px;
  background: #e53935;
  color: #fff;
}

.email-attach-name {
  margin-top: 6px;
  font-size: 12px;
  line-height: 1.3;
  color: #222;
  text-align: left;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;    /* max 2 lines like Gmail tiles */
  -webkit-box-orient: vertical;
}

.email-attach-top {
  flex: 1 1 auto;
  border-radius: 6px;
  overflow: hidden;
  background: #f1f3f7;
  display: flex;
  align-items: center;
  justify-content: center;
}

.email-attach-thumb {
  width: 100%;
  height: 100%;
  object-fit: cover;      /* fill like Gmail thumbnail */
  display: block;
}

.email-attach-thumb.placeholder {
  font-size: 24px;
  font-weight: 700;
  color: #c62828;
}

.email-attach-bottom {
  flex: 0 0 auto;
  margin-top: 6px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.email-attach {
  width: 220px;
  height: 130px;
  border-radius: 10px;
  border: 1px solid #e1e4ea;
  background: #fafbff;
  display: flex;
  flex-direction: column;
  padding: 8px 10px;
  cursor: pointer;
  transition: box-shadow 0.15s ease, transform 0.15s ease;
}

.email-attach:hover {
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
  transform: translateY(-1px);
}

.email-attach-preview {
  flex: 1;
  border-radius: 6px;
  overflow: hidden;
  background: #f3f4f8;
}

.email-attach-frame {
  width: 130%;
  height: 130%;
  border: none;
  transform: translate(-8%, -8%);
  pointer-events: none;   /* so clicks go to the button, not the iframe */
}

.email-attach-footer {
  display: flex;
  align-items: center;
  margin-top: 6px;
  gap: 6px;
}

/* Right-panel PDF/image preview: clean, rounded, no black borders */
.doc-card .doc-preview {
  position: relative;
  width: 100%;
  height: 140px;              /* adjust height if you like */
  overflow: hidden;           /* clip inner iframe/img to radius */
  border-radius: 12px 12px 0 0;
  background: #fff;
}

.doc-card .doc-preview iframe {
  width: 100%;
  height: 100%;
  border: none;               /* removes black border */
  pointer-events: none;       /* so clicks go to the button, not the iframe */
}

.doc-card .doc-preview img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 12px 12px 0 0;
}

.draft-picker {
  margin: 0.75rem 0;
  padding: 0.75rem;
  border-radius: 10px;
  background: #fafbff;
  border: 1px solid #dde3ff;
}

.draft-picker-title {
  font-size: 0.9rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.draft-picker-list {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.draft-picker-item {
  padding: 0.25rem 0.6rem;
  border-radius: 999px;
  border: 1px solid #d0d4ff;
  background: #ffffff;
  font-size: 0.8rem;
  cursor: pointer;
}

/* ðŸ”¹ DRAFT AREA: always Verdana */
.email-draft-preview {
  margin-top: 0.75rem;
  border-radius: 10px;
  border: 1px solid #e0e4f0;
  background: #ffffff;
  overflow: hidden;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.05);

  /* force Verdana in the block itself */
  font-family: Verdana, Geneva, sans-serif;
}

/* make EVERYTHING inside the draft use Verdana */
.email-draft-preview * {
  font-family: Verdana, Geneva, sans-serif;
}

.email-draft-textarea {
  width: 100%;
  height: 500px;
  border: none;
  border-top: 1px solid #e0e4f0;
  padding: 0.75rem;
  min-height: 250px;
  max-height: 600px;
  resize: vertical;
  /* force Verdana for typing as well */
  font-family: Verdana, Geneva, sans-serif;
  font-size: 0.9rem;
  background: #fcfcff;
}

.email-draft-note {
  padding: 0 0.75rem 0.75rem;
  font-size: 0.78rem;
  color: #777;
}

/* Email draft header: To-field above the body */
.email-draft-header {
  padding: 0.6rem 0.75rem 0.4rem;
  background: #f9fafb;
  border-bottom: 1px solid #e0e4f0;
}

.email-draft-row {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.email-draft-label {
  font-size: 0.78rem;
  font-weight: 600;
  min-width: 28px;
  color: #374151;
}

.email-draft-to {
  flex: 1;
  border: 1px solid #d1d5db;
  border-radius: 999px;
  padding: 0.3rem 0.7rem;
  font-size: 0.8rem;
  background: #ffffff;
}

.email-draft-to:focus {
  outline: none;
  border-color: #6366f1;
  box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.35);
}

/* Toolbar row with Cancel + Send */
.email-draft-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.45rem 0.75rem;
  border-bottom: 1px solid #e0e4f0;
  background: #ffffff;
}

.email-draft-title {
  font-size: 0.82rem;
  font-weight: 600;
  color: #111827;
}

.email-draft-actions {
  display: flex;
  gap: 0.4rem;
}

.email-draft-to {
  pointer-events: auto;
  position: relative;
  z-index: 10;
}

.email-draft-header,
.email-draft-row {
  position: relative;
  z-index: 10;
}

.draft-picker {
  z-index: 9999;
}

.email-draft-preview {
  z-index: 10000;
  position: relative;
}

/* Ensure the image inside doesn't get squashed */
.connect-google-btn img {
  width: 16px;
  height: 16px;
  object-fit: contain;
}

.connect-google-btn {
  background: #ffffff;
  color: #3c4043; /* Dark gray text */
  border: 1px solid #dadce0; /* Subtle border */
  border-radius: 6px; /* Slight rounding, not profound */
  padding: 0 12px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px; /* Space between icon and text */
  height: 32px; /* Fixed height so both buttons match */
  transition: all 0.2s ease;
  box-shadow: 0 1px 1px rgba(0,0,0,0.05);
}

.connect-google-btn:hover {
  background: #f8f9fa;
  border-color: #dadce0;
  color: #202124;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.connect-google-btn:active {
  background: #f1f3f4;
}

/* ===== Google Chat left list pills ===== */

.gchat-sidebar {
  padding: 8px 6px;
}

.gchat-item {
  width: 100%;
  max-width: 92%;
  margin: 4px auto;
  padding: 4px 10px;
  min-height: 28px;
  border-radius: 999px;
  background: #f1f3f4;
  border: 1px solid transparent;
  transition: background 0.15s ease, box-shadow 0.15s ease;
  text-align: left;
}

.gchat-item:hover {
  background: #e8f0fe;
}

.gchat-item.active {
  background: #d2e3fc;
  border-color: #aecbfa;
  box-shadow: inset 0 0 0 1px rgba(26, 115, 232, 0.15);
}

.gchat-avatar {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  font-size: 0.7rem;
}

.gchat-item-text {
  overflow: hidden;
}

.gchat-item-title {
  font-size: 0.82rem;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ===== Google Chat font (Google-like) ===== */
.gchat-shell,
.gchat-shell * {
  font-family: Roboto, "Google Sans", system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", Arial, sans-serif;
  letter-spacing: 0.01em;
}

/* ===== Google Chat messages ===== */

.gchat-msg + .gchat-msg {
  margin-top: 8px;
}

.gchat-msg {
  display: flex;
  gap: 10px;
  margin: 10px 0;
}

.gchat-msg.mine {
  justify-content: flex-end;
}

.gchat-msg.mine .gchat-msg-content {
  margin-left: auto;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

.gchat-avatar-circle {
  width: 32px;
  height: 32px;
  border-radius: 999px;
  background: #e6e9ef;
  display: grid;
  place-items: center;
  flex: 0 0 32px;
  overflow: hidden;
}

.gchat-avatar-circle img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.gchat-avatar-circle span {
  font-weight: 600;
  font-size: 14px;
  color: #374151;
}

.gchat-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
  font-size: 0.85rem;
  color: #555;
  font-weight: 500;
}

.gchat-msg.mine .gchat-meta {
  justify-content: flex-end;
}

.gchat-bubble {
  display: inline-block;
  background: #f3f4f6;
  border-radius: 14px;
  padding: 8px 10px;
  font-size: 0.9rem;
  line-height: 1.4;
  max-width: 520px;
  width: fit-content;
  position: relative;
  transition: background 0.15s ease;
  
  /* ðŸ‘‡ FIXES THE BLOB: Preserves spaces and newlines */
  white-space: pre-wrap; 
  word-wrap: break-word;
}

.gchat-msg.mine .gchat-bubble {
  background: #d2e3fc;
}

.gchat-msg.theirs .gchat-bubble:hover {
  background: #e5e7eb;
}

/* ===== Google Chat reactions ===== */

.gchat-react-picker {
  position: absolute;
  top: -10px;
  right: 6px;
  transform: translateY(-100%);
  display: flex;
  gap: 6px;
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.12);
  border-radius: 999px;
  padding: 6px 8px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.14);
  z-index: 20;
}

.gchat-react-option {
  border: 0;
  background: transparent;
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
  padding: 2px 4px;
}

.gchat-react-option.heart {
  filter: saturate(1.2);
}

.gchat-reaction-row {
  margin-top: 6px;
  display: flex;
  gap: 6px;
}

.gchat-reaction-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 3px 8px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.75);
  border: 1px solid rgba(0, 0, 0, 0.1);
  font-size: 13px;
}

.gchat-react-bar {
  position: absolute;
  top: -10px;
  right: -8px;
  display: flex;
  gap: 6px;
  background: white;
  border-radius: 999px;
  padding: 4px 6px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
  z-index: 20;
}

/* ===== Chat bar + upload preview (Polished) ===== */

.chat-bar {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 8px; /* Gap between preview and text input */
  align-items: stretch; /* Critical: keeps everything aligned left-to-right */
  padding: 10px 12px; /* Consistent padding wrapper */
}

/* The container for the card */
.chat-upload-preview {
  width: 100%;
  display: flex;
  justify-content: flex-start;
  padding-left: 2px; /* Slight alignment tweak to match text cursor */
}

/* The actual file card */
.chat-upload-card {
  width: 200px; /* Slightly wider for better text fit */
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid #dadce0;
  background: #fff;
  box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3);
  overflow: hidden;
  transition: background 0.2s;
}

.chat-upload-card:hover {
  background: #f8f9fa;
}

/* The Red PDF Icon Box */
.chat-upload-icon {
  width: 36px;
  height: 36px;
  min-width: 36px;
  border-radius: 4px;
  background: #ea4335; /* Google Red */
  color: white;
  display: grid;
  place-items: center;
  font-weight: 700;
  font-size: 10px;
  letter-spacing: 0.5px;
}

/* Filename and Size */
.chat-upload-meta {
  min-width: 0; /* allows text truncation to work */
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.chat-upload-name {
  font-weight: 500;
  font-size: 13px;
  color: #202124;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.chat-upload-size {
  font-size: 11px;
  color: #5f6368;
}

/* The X button */
.chat-upload-remove {
  width: 24px;
  height: 24px;
  min-width: 24px;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: #5f6368;
  cursor: pointer;
  display: grid;
  place-items: center;
  font-size: 18px;
  line-height: 1;
  margin-left: 4px;
}

.chat-upload-remove:hover {
  background: rgba(95, 99, 104, 0.1);
  color: #202124;
}

/* Input Row (Textarea + buttons) */
.chat-input-row {
  display: flex;
  align-items: flex-end;
  gap: 12px;
  width: 100%;
}

/* ===== Plus button ===== */

.chat-plus-wrap {
  position: relative;
  display: flex;
  align-items: center;
  flex: 0 0 auto;
  margin-left: 10px;
}

.chat-plus-btn {
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 1px solid rgba(0, 0, 0, 0.16);
  background: #ffffff;
  color: #111;
  font-size: 22px;
  line-height: 0;
  cursor: pointer;
  display: grid;
  place-items: center;
}

.chat-plus-btn:hover {
  background: rgba(0, 0, 0, 0.04);
}

.chat-plus-menu {
  position: absolute;
  right: 0px;
  bottom: 44px;
  background: #fff;
  border: 1px solid rgba(0, 0, 0, 0.12);
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.18);
  padding: 6px;
  z-index: 1000;
  min-width: 150px;
}

.chat-plus-item {
  border: none;
  background: transparent;
  padding: 10px 12px;
  cursor: pointer;
  width: 100%;
  text-align: left;
  border-radius: 10px;
  font-size: 14px;
}

.chat-plus-item:hover {
  background: rgba(0, 0, 0, 0.06);
}

/* kill any pseudo-element dots */
.chat-plus-wrap::before,
.chat-plus-wrap::after {
  content: none !important;
  display: none !important;
}

.chat-bar.has-file {
  border-radius: 10px; /* ðŸ‘ˆ ADJUST THIS: 18px is usually perfect for the "tall" state */
}

/* Hide reaction bar by default */
.gchat-react-bar {
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.1s ease-in-out; /* Super fast fade */
  
  /* Positioning to match Screenshot 7 */
  position: absolute;
  top: -14px;
  right: 0;
  background: white;
  border: 1px solid #dadce0;
  border-radius: 24px;
  padding: 2px 8px;
  display: flex;
  gap: 4px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.12);
  z-index: 10;
}

/* Show it instantly when hovering the parent message */
.gchat-msg-content:hover .gchat-react-bar {
  opacity: 1;
  visibility: visible;
}

/* Style the emoji buttons */
.gchat-reaction-pill {
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 4px;
  transition: background 0.1s;
}

.gchat-reaction-pill:hover {
  background: #f1f3f4;
}

.gchat-reaction-chip-btn {
  background: #e8eaed;
  border: 1px solid transparent;
  border-radius: 12px;
  padding: 2px 8px;
  font-size: 12px;
  color: #3c4043;
  cursor: pointer;
  transition: all 0.1s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.gchat-reaction-chip-btn:hover {
  background: #dadce0;
  border-color: #dadce0;
}

/* Optional: Active state when clicking */
.gchat-reaction-chip-btn:active {
  background: #d2e3fc; /* Light blue tint like GChat */
  color: #174ea6;
  border-color: #d2e3fc;
}

/* src/App.css */

.gchat-file-card {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: white;
  border: 1px solid #dadce0;
  border-radius: 8px; /* Slightly rounded, mostly square */
  width: 240px; /* Fixed width for consistency */
  box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
  cursor: default;
  margin-bottom: 4px;
}

.gchat-file-icon {
  width: 40px;
  height: 40px;
  background: #fce8e6; /* Light red for PDF */
  color: #ea4335;
  font-weight: bold;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
}

.gchat-file-info {
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.gchat-file-name {
  font-size: 14px;
  font-weight: 500;
  color: #3c4043;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.gchat-file-link {
  font-size: 12px;
  color: #1a73e8;
  text-decoration: none;
  margin-top: 2px;
}

.gchat-file-link:hover {
  text-decoration: underline;
}

/* src/App.css */

/* Base Icon Style (Shared) */
.gchat-file-icon {
  width: 40px;
  height: 40px;
  font-weight: bold;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  text-transform: uppercase;
}

/* ðŸ”´ PDF (Default) */
.gchat-file-icon.pdf,
.gchat-file-icon.default {
  background: #fce8e6;
  color: #ea4335;
}

/* ðŸŸ¢ Excel (Green) */
.gchat-file-icon.xls {
  background: #e6f4ea;
  color: #188038;
}

/* ðŸ”µ Word (Blue) */
.gchat-file-icon.doc {
  background: #e8f0fe;
  color: #1967d2;
}

/* ðŸŸ£ Images (Purple) */
.gchat-file-icon.img {
  background: #f3e8fd;
  color: #9334e6;
}

/* ðŸŸ¡ Zip/Other (Yellow) */
.gchat-file-icon.zip {
  background: #fef7e0;
  color: #f9ab00;
}

/* src/App.css */

.gchat-preview-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  background: #202124; /* Dark background for focus */
  color: white;
}

.gchat-preview-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  background: #202124;
  border-bottom: 1px solid #3c4043;
}

.gchat-preview-title {
  font-weight: 500;
  font-size: 14px;
}

.gchat-preview-actions {
  display: flex;
  gap: 12px;
}

.gchat-preview-btn,
.gchat-preview-close {
  background: rgba(255,255,255,0.1);
  border: none;
  color: white;
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  text-decoration: none;
  display: flex;
  align-items: center;
}

.gchat-preview-close:hover, .gchat-preview-btn:hover {
  background: rgba(255,255,255,0.2);
}

.gchat-preview-body {
  flex: 1;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.gchat-preview-frame {
  width: 100%;
  height: 100%;
  border: none;
  background: white;
  border-radius: 8px;
}

.gchat-preview-img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  box-shadow: 0 4px 20px rgba(0,0,0,0.5);
}

.gchat-media-wrap {
  background: transparent;
  margin-bottom: 4px;
}
.gchat-media-wrap video {
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
  background: #000;
}

.chat-plus-menu {
  position: absolute;
  /* ðŸ‘‡ CHANGED: Anchor to bottom-right relative to the Plus button */
  right: 0;
  left: auto; 
  bottom: 45px;
  
  background: #fff;
  border: 1px solid rgba(0, 0, 0, 0.12);
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  padding: 6px;
  z-index: 1000;
  min-width: 140px;
}

/* Center the specific headers for Left and Right panels */
.left-panel .panel-title,
.right-panel .panel-title {
  text-align: center;
  margin-bottom: 12px; /* A little extra breathing room */
}

/* --- Trello Label Colors (Top Row) --- */
/* These match the modern Trello pastel palette */

/* --- Trello Label Shades (Top Row) --- */
.tl-badge {
    display: inline-flex;
    align-items: center;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 700;
    line-height: 16px;
    margin-right: 4px;
    margin-bottom: 4px;
    white-space: nowrap;
}

/* === GREEN === */
/* Light Green (Subtle) */
.tl-badge.label-green-light { background-color: #BAF3DB; color: #164B35; } 
/* Normal Green (Bold) */
.tl-badge.label-green-norm  { background-color: #4BCE97; color: #164B35; } 
/* Dark Green (Bolder) */
.tl-badge.label-green-dark  { background-color: #1F845A; color: #FFFFFF; } 

/* === YELLOW === */
/* Light Yellow (Subtle) */
.tl-badge.label-yellow-light { background-color: #F8E6A0; color: #533F04; }
/* Normal Yellow (Bold) */
.tl-badge.label-yellow-norm  { background-color: #F5CD47; color: #533F04; }

/* === BROWN (Approximated) === */
/* Normal Brown (Custom Trello-ish Tan) */
.tl-badge.label-brown-norm   { background-color: #D3C4A5; color: #4A3A23; }

/* === ORANGE === */
/* Light Orange (Subtle) */
.tl-badge.label-orange-light { background-color: #FFE2BD; color: #5F3811; }
/* Normal Orange (Bold) */
.tl-badge.label-orange-norm  { background-color: #FAA53D; color: #5F3811; }
/* Dark Orange (Bolder) */
.tl-badge.label-orange-dark  { background-color: #B65C02; color: #FFFFFF; }

/* === RED === */
/* Light Red (Subtle) */
.tl-badge.label-red-light    { background-color: #FFD2CC; color: #5D1F1A; }
/* Normal Red (Bold) */
.tl-badge.label-red-norm     { background-color: #F87462; color: #5D1F1A; }
/* Dark Red (Bolder) */
.tl-badge.label-red-dark     { background-color: #CA3521; color: #FFFFFF; }

/* === PURPLE === */
/* Light Purple (Subtle) */
.tl-badge.label-purple-light { background-color: #DFD8FD; color: #352C63; }
/* Normal Purple (Bold) */
.tl-badge.label-purple-norm  { background-color: #9F8FEF; color: #352C63; }
/* Dark Purple (Bolder) */
.tl-badge.label-purple-dark  { background-color: #6E5DC6; color: #FFFFFF; }

/* === BLUE === */
/* Normal Blue (Bold) */
.tl-badge.label-blue-norm    { background-color: #579DFF; color: #09326C; }

/* Default */
.tl-badge.label-default { background-color: #091E420F; color: #44546F; }

/* Ensure Priority/Status badges (Bottom Row) still look correct */
.tl-badge.active-green  { background-color: #1F845A; color: #FFFFFF; }
.tl-badge.active-orange { background-color: #B65C02; color: #FFFFFF; }

.tl-badge.status-yellow { background-color: #FACC15; color: #172B4D; border: 1px solid #EAB308; }
.tl-badge.status-blue   { background-color: #DBEAFE; color: #1E3A8A; border: 1px solid #93C5FD; }
.tl-badge.status-green  { background-color: #DCFCE7; color: #14532D; border: 1px solid #BBF7D0; }
.tl-badge.status-red    { background-color: #FEE2E2; color: #7F1D1D; border: 1px solid #FECACA; }
.tl-badge.status-purple { background-color: #EDE9FE; color: #4C1D95; border: 1px solid #DDD6FE; }

/* --- Priority Badge Colors --- */
.tl-badge.priority-green { 
  background-color: #BAF3DB; /* Light Green */
  color: #164B35; 
}
.tl-badge.priority-red { 
  background-color: #FFD2CC; /* Light Red */
  color: #5D1F1A; 
}
.tl-badge.priority-pink { 
  background-color: #FDD0EC; /* Light Pink */
  color: #50253F; 
}
.tl-badge.priority-purple { 
  background-color: #DFD8FD; /* Light Purple (for Urgent/New Client if preferred) */
  color: #352C63; 
}
.tl-badge.priority-default { 
  background-color: #DFE1E6; /* Grey */
  color: #172B4D; 
}

/* --- Trello Status Colors (Bottom Row) --- */

/* ORANGE */
.tl-badge.status-orange-light { background-color: #FFE2BD; color: #5F3811; }

/* BLUE */
.tl-badge.status-blue-light   { background-color: #CCE0FF; color: #0055CC; }

/* GREEN */
.tl-badge.status-green-light  { background-color: #BAF3DB; color: #164B35; }

/* PURPLE */
.tl-badge.status-purple-light { background-color: #DFD8FD; color: #352C63; }

/* PINK */
.tl-badge.status-pink-light   { background-color: #FDD0EC; color: #50253F; }

/* YELLOW */
.tl-badge.status-yellow-light { background-color: #F8E6A0; color: #533F04; }
.tl-badge.status-yellow-norm  { background-color: #F5CD47; color: #533F04; }

/* RED */
.tl-badge.status-red-light    { background-color: #FFD2CC; color: #5D1F1A; }

/* GREY */
.tl-badge.status-grey-light   { background-color: #091E420F; color: #44546F; }

/* Default fallback */
.tl-badge.status-default      { background-color: #DFE1E6; color: #172B4D; }

/* --- Drag & Drop UI Features --- */

/* 1. The Card being dragged (Tilt Effect) */
/* Note: This applies to the element while you hold it */
.tl-card.dnd-dragging {
  transform: rotate(3deg) scale(1.02); /* Slight right tilt + pop */
  box-shadow: 0 12px 24px rgba(0,0,0,0.2); /* Lift it up */
  opacity: 0.9;
  z-index: 9999;
  cursor: grabbing;
}

/* Ensure this is in your App.css */
.tl-card.dnd-placeholder {
  opacity: 0.3;              
  background: #E4F7FA;       
  border: 1px dashed #0079bf; 
  box-shadow: none;
  transform: none !important; /* Force the placeholder to stay straight */
}

/* 2. Smooth Transitions for everything else */
.tl-card {
  transition: transform 0.1s ease, box-shadow 0.1s ease;
}

/* 3. The empty space created by the move (Visual feedback) */
/* We don't hide the card entirely, we usually style the target slightly differently 
   or just let the swapping animation handle the 'space'. 
   For simple React DND, the swap happens live, so 'space' is automatic. */

   /* --- FIXES FOR TRELLO CARD (Add to bottom of App.css) --- */

/* 1. Trello Font Override for the Modal */
.trello-modal, .trello-modal * {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Noto Sans", "Ubuntu", "Droid Sans", "Helvetica Neue", sans-serif !important;
}

/* 2. Fix Massive Images -> Make them small circles */
.member-avatar {
  width: 32px;
  height: 32px;
  min-width: 32px; /* Stop shrinking */
  border-radius: 50%;
  background: #dfe1e6;
  color: #172b4d;
  font-weight: 700;
  font-size: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  overflow: hidden; /* Clips the image */
  border: none;
}

.member-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* 3. Small Headers (e.g. MEMBERS, LABELS) */
.trello-group-label {
  font-size: 12px;
  font-weight: 600;
  color: #5e6c84;
  margin-bottom: 4px;
  display: block;
}

/* 4. Square-ish Label Pills (e.g. RyanGPT) */
.label-pill-large {
  height: 32px;
  padding: 0 12px;
  border-radius: 3px;
  display: flex;
  align-items: center;
  font-weight: 700;
  font-size: 14px;
  color: #fff;
  cursor: pointer;
  min-width: 48px;
  justify-content: center;
}
.label-pill-large:hover {
  filter: brightness(110%);
}

/* 5. The Grey "+" Buttons */
.round-btn-gray, .rect-btn-gray {
  height: 32px;
  width: 32px;
  background: #091e420f;
  border: none;
  color: #172b4d;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 85ms ease;
  font-size: 20px; /* Plus icon size */
  line-height: 1;
}
.round-btn-gray { border-radius: 50%; } /* For Members */
.rect-btn-gray  { border-radius: 3px; }  /* For Labels */

.round-btn-gray:hover, .rect-btn-gray:hover {
  background: #091e4214;
}

/* --- Label Picker Popover --- */
.label-picker-popover {
  position: absolute;
  top: 100%;
  left: 0;
  width: 304px;
  background: #fff;
  border-radius: 3px;
  box-shadow: 0 8px 16px -4px rgba(9,30,66,0.25), 0 0 0 1px rgba(9,30,66,0.08);
  z-index: 1000;
  margin-top: 8px;
  display: flex;
  flex-direction: column;
}

.label-picker-header {
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom: 1px solid rgba(9,30,66,0.13);
  color: #5e6c84;
  font-weight: 600;
  font-size: 14px;
  position: relative;
}

.label-picker-close {
  position: absolute;
  right: 0;
  top: 0;
  height: 40px;
  width: 40px;
  border: none;
  background: transparent;
  color: #6b778c;
  cursor: pointer;
}

.label-picker-list {
  padding: 8px 12px;
  max-height: 40vh;
  overflow-y: auto;
}

.label-picker-row {
  display: flex;
  align-items: center;
  gap: 4px;
  margin-bottom: 4px;
}

.label-picker-pill {
  flex: 1;
  padding: 6px 8px; /* Slightly tighter padding */
  border-radius: 3px;
  font-weight: 700;
  font-size: 12px;
  cursor: pointer;
  position: relative;
  transition: padding-left 0.2s;
  min-height: 32px;
  display: flex;
  align-items: center;
  gap: 8px; /* Space between checkbox and text */
}

.label-picker-pill:hover {
  filter: brightness(0.95); /* Slight darken on hover */
  margin-left: 4px; /* Trello pop effect */
}

.label-edit-icon {
  width: 32px;
  height: 32px;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: 3px;
  color: #42526e;
}
.label-edit-icon:hover {
  background-color: rgba(9,30,66,0.08);
}

/* --- Fix Right Panel Badge Colors (Map -light classes to colors) --- */

/* PRIORITY BADGES */
.tl-badge.priority-green-light { background-color: #dcfce7; color: #164b35; }
.tl-badge.priority-red-light   { background-color: #ffe2bd; color: #5d1f1a; }
.tl-badge.priority-pink-light  { background-color: #fdd0ec; color: #50253f; }
.tl-badge.priority-purple-light{ background-color: #ede9fe; color: #4c1d95; }
.tl-badge.priority-default     { background-color: #f4f5f7; color: #172b4d; }

/* ACTIVE BADGES */
.tl-badge.active-green-light   { background-color: #dcfce7; color: #164b35; }
.tl-badge.active-orange-light  { background-color: #ffe2bd; color: #5f3811; }
.tl-badge.active-red-light     { background-color: #ffe2bd; color: #5d1f1a; }
.tl-badge.active-default       { background-color: #f4f5f7; color: #172b4d; }

/* STATUS BADGES */
.tl-badge.status-orange-light  { background-color: #ffe2bd; color: #5f3811; }
.tl-badge.status-blue-light    { background-color: #dbeafe; color: #1e3a8a; }
.tl-badge.status-green-light   { background-color: #dcfce7; color: #164b35; }
.tl-badge.status-purple-light  { background-color: #ede9fe; color: #4c1d95; }
.tl-badge.status-pink-light    { background-color: #fdd0ec; color: #50253f; }
.tl-badge.status-yellow-light  { background-color: #fef9c3; color: #713f12; }
.tl-badge.status-grey-light    { background-color: #f4f5f7; color: #172b4d; }
.tl-badge.status-red-light     { background-color: #ffe2bd; color: #5d1f1a; }
.tl-badge.status-default       { background-color: #f4f5f7; color: #172b4d; }